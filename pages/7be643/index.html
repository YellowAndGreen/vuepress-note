<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Shell指令 | YellowAndGreen</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="为学日益，为道日损。损之又损，以至于无为。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.02965d57.css" as="style"><link rel="preload" href="/assets/js/app.2e8fe52d.js" as="script"><link rel="preload" href="/assets/js/2.8b0d4e2b.js" as="script"><link rel="preload" href="/assets/js/53.555dc999.js" as="script"><link rel="prefetch" href="/assets/js/10.e4349532.js"><link rel="prefetch" href="/assets/js/100.df1a5264.js"><link rel="prefetch" href="/assets/js/101.c5ab4b0e.js"><link rel="prefetch" href="/assets/js/102.15c0d6fb.js"><link rel="prefetch" href="/assets/js/103.13a60e49.js"><link rel="prefetch" href="/assets/js/104.fb529bb2.js"><link rel="prefetch" href="/assets/js/105.aa04265e.js"><link rel="prefetch" href="/assets/js/106.fe668aca.js"><link rel="prefetch" href="/assets/js/107.d1f3bae9.js"><link rel="prefetch" href="/assets/js/108.0d0b9835.js"><link rel="prefetch" href="/assets/js/109.b0a044cf.js"><link rel="prefetch" href="/assets/js/11.3cf53156.js"><link rel="prefetch" href="/assets/js/110.1dfd8f7e.js"><link rel="prefetch" href="/assets/js/111.c7ae3c0a.js"><link rel="prefetch" href="/assets/js/112.e213860c.js"><link rel="prefetch" href="/assets/js/113.286cdf73.js"><link rel="prefetch" href="/assets/js/114.eae6f585.js"><link rel="prefetch" href="/assets/js/115.b45bb5ca.js"><link rel="prefetch" href="/assets/js/116.31caf656.js"><link rel="prefetch" href="/assets/js/117.0083d3af.js"><link rel="prefetch" href="/assets/js/118.85a47346.js"><link rel="prefetch" href="/assets/js/119.4af00d61.js"><link rel="prefetch" href="/assets/js/12.520b36ad.js"><link rel="prefetch" href="/assets/js/120.b8a277c3.js"><link rel="prefetch" href="/assets/js/121.e1b8a8bd.js"><link rel="prefetch" href="/assets/js/122.e9c290af.js"><link rel="prefetch" href="/assets/js/123.c3b2f3d9.js"><link rel="prefetch" href="/assets/js/124.52b51b89.js"><link rel="prefetch" href="/assets/js/125.61fc0cea.js"><link rel="prefetch" href="/assets/js/126.26eadd29.js"><link rel="prefetch" href="/assets/js/127.2bf34222.js"><link rel="prefetch" href="/assets/js/128.00bc370b.js"><link rel="prefetch" href="/assets/js/129.abb900d0.js"><link rel="prefetch" href="/assets/js/13.d5c15710.js"><link rel="prefetch" href="/assets/js/130.dc8e048c.js"><link rel="prefetch" href="/assets/js/131.19398a1d.js"><link rel="prefetch" href="/assets/js/132.6f11053b.js"><link rel="prefetch" href="/assets/js/133.f6898b1b.js"><link rel="prefetch" href="/assets/js/134.cfe42651.js"><link rel="prefetch" href="/assets/js/135.97b8f2c7.js"><link rel="prefetch" href="/assets/js/136.13185890.js"><link rel="prefetch" href="/assets/js/137.39563ae1.js"><link rel="prefetch" href="/assets/js/138.1a25aa8e.js"><link rel="prefetch" href="/assets/js/139.a33a2eb8.js"><link rel="prefetch" href="/assets/js/14.8ceccf7e.js"><link rel="prefetch" href="/assets/js/140.42819884.js"><link rel="prefetch" href="/assets/js/141.dfa369ac.js"><link rel="prefetch" href="/assets/js/142.39d84cf9.js"><link rel="prefetch" href="/assets/js/143.2291fc0f.js"><link rel="prefetch" href="/assets/js/144.2811bb30.js"><link rel="prefetch" href="/assets/js/145.2002093c.js"><link rel="prefetch" href="/assets/js/146.3da07040.js"><link rel="prefetch" href="/assets/js/147.0035bda0.js"><link rel="prefetch" href="/assets/js/148.febc9f1f.js"><link rel="prefetch" href="/assets/js/149.5d1b5852.js"><link rel="prefetch" href="/assets/js/15.0adbd1c0.js"><link rel="prefetch" href="/assets/js/150.1a9f5596.js"><link rel="prefetch" href="/assets/js/151.6e4aa998.js"><link rel="prefetch" href="/assets/js/152.03167eb5.js"><link rel="prefetch" href="/assets/js/153.55186b6d.js"><link rel="prefetch" href="/assets/js/154.36c8cd58.js"><link rel="prefetch" href="/assets/js/155.673c105c.js"><link rel="prefetch" href="/assets/js/156.b6f04f1b.js"><link rel="prefetch" href="/assets/js/157.d8d5c4ef.js"><link rel="prefetch" href="/assets/js/158.dac0e19d.js"><link rel="prefetch" href="/assets/js/159.8e34c027.js"><link rel="prefetch" href="/assets/js/16.d3338f45.js"><link rel="prefetch" href="/assets/js/160.1855e1cd.js"><link rel="prefetch" href="/assets/js/161.7e0737af.js"><link rel="prefetch" href="/assets/js/162.6263a6da.js"><link rel="prefetch" href="/assets/js/163.a3eaa80b.js"><link rel="prefetch" href="/assets/js/164.3b199ff0.js"><link rel="prefetch" href="/assets/js/165.2523abd3.js"><link rel="prefetch" href="/assets/js/166.e04dfd52.js"><link rel="prefetch" href="/assets/js/167.6537ae63.js"><link rel="prefetch" href="/assets/js/168.089f3941.js"><link rel="prefetch" href="/assets/js/169.79bca451.js"><link rel="prefetch" href="/assets/js/17.60fc615e.js"><link rel="prefetch" href="/assets/js/170.c9d35c32.js"><link rel="prefetch" href="/assets/js/171.5189bb93.js"><link rel="prefetch" href="/assets/js/172.bbea52cd.js"><link rel="prefetch" href="/assets/js/173.84e890b9.js"><link rel="prefetch" href="/assets/js/174.32021426.js"><link rel="prefetch" href="/assets/js/175.7c3d0166.js"><link rel="prefetch" href="/assets/js/176.9070a722.js"><link rel="prefetch" href="/assets/js/177.8e9c174c.js"><link rel="prefetch" href="/assets/js/178.c3e6e634.js"><link rel="prefetch" href="/assets/js/179.c396c01e.js"><link rel="prefetch" href="/assets/js/18.9e7b4caa.js"><link rel="prefetch" href="/assets/js/180.bc05905a.js"><link rel="prefetch" href="/assets/js/181.85570db8.js"><link rel="prefetch" href="/assets/js/182.f52ffdd0.js"><link rel="prefetch" href="/assets/js/183.ec724a73.js"><link rel="prefetch" href="/assets/js/184.b9b3049a.js"><link rel="prefetch" href="/assets/js/185.fe3ba4d5.js"><link rel="prefetch" href="/assets/js/186.8c14dc1e.js"><link rel="prefetch" href="/assets/js/187.d47772cf.js"><link rel="prefetch" href="/assets/js/188.70a6c1c5.js"><link rel="prefetch" href="/assets/js/189.c1be61cb.js"><link rel="prefetch" href="/assets/js/19.98913664.js"><link rel="prefetch" href="/assets/js/190.0aeee3de.js"><link rel="prefetch" href="/assets/js/191.616e941e.js"><link rel="prefetch" href="/assets/js/192.90f9144a.js"><link rel="prefetch" href="/assets/js/193.efc567dd.js"><link rel="prefetch" href="/assets/js/194.bdea4f82.js"><link rel="prefetch" href="/assets/js/195.343ab2d4.js"><link rel="prefetch" href="/assets/js/196.4375bf05.js"><link rel="prefetch" href="/assets/js/197.796b07f2.js"><link rel="prefetch" href="/assets/js/198.ccc7a0c9.js"><link rel="prefetch" href="/assets/js/199.f57eb373.js"><link rel="prefetch" href="/assets/js/20.1b0515d6.js"><link rel="prefetch" href="/assets/js/200.5e4f48eb.js"><link rel="prefetch" href="/assets/js/201.e2430cb4.js"><link rel="prefetch" href="/assets/js/202.19319e2d.js"><link rel="prefetch" href="/assets/js/21.aa64a67f.js"><link rel="prefetch" href="/assets/js/22.c3e5d800.js"><link rel="prefetch" href="/assets/js/23.13604c56.js"><link rel="prefetch" href="/assets/js/24.ee3c35f9.js"><link rel="prefetch" href="/assets/js/25.1fd0b884.js"><link rel="prefetch" href="/assets/js/26.397bf4bf.js"><link rel="prefetch" href="/assets/js/27.b8f00d9e.js"><link rel="prefetch" href="/assets/js/28.85198562.js"><link rel="prefetch" href="/assets/js/29.c207e767.js"><link rel="prefetch" href="/assets/js/3.564e41df.js"><link rel="prefetch" href="/assets/js/30.1d3a40e2.js"><link rel="prefetch" href="/assets/js/31.d62bffc3.js"><link rel="prefetch" href="/assets/js/32.8e0b931a.js"><link rel="prefetch" href="/assets/js/33.29579840.js"><link rel="prefetch" href="/assets/js/34.82499c45.js"><link rel="prefetch" href="/assets/js/35.5f3b8b8d.js"><link rel="prefetch" href="/assets/js/36.1a051d61.js"><link rel="prefetch" href="/assets/js/37.9fd2d4c3.js"><link rel="prefetch" href="/assets/js/38.37cf7e5c.js"><link rel="prefetch" href="/assets/js/39.4803ad47.js"><link rel="prefetch" href="/assets/js/4.d209647e.js"><link rel="prefetch" href="/assets/js/40.6ac6ffe0.js"><link rel="prefetch" href="/assets/js/41.c9d0899c.js"><link rel="prefetch" href="/assets/js/42.bdaf5d06.js"><link rel="prefetch" href="/assets/js/43.fab35d41.js"><link rel="prefetch" href="/assets/js/44.0df5495e.js"><link rel="prefetch" href="/assets/js/45.93f2c925.js"><link rel="prefetch" href="/assets/js/46.6839bc96.js"><link rel="prefetch" href="/assets/js/47.62b66788.js"><link rel="prefetch" href="/assets/js/48.7ef6c27a.js"><link rel="prefetch" href="/assets/js/49.da55b3a8.js"><link rel="prefetch" href="/assets/js/5.1d0ae14e.js"><link rel="prefetch" href="/assets/js/50.fd1dc199.js"><link rel="prefetch" href="/assets/js/51.1b514ba1.js"><link rel="prefetch" href="/assets/js/52.29894848.js"><link rel="prefetch" href="/assets/js/54.7d006ec7.js"><link rel="prefetch" href="/assets/js/55.f56d6a28.js"><link rel="prefetch" href="/assets/js/56.863769e3.js"><link rel="prefetch" href="/assets/js/57.2885c32a.js"><link rel="prefetch" href="/assets/js/58.44934def.js"><link rel="prefetch" href="/assets/js/59.019721c9.js"><link rel="prefetch" href="/assets/js/6.27400d5b.js"><link rel="prefetch" href="/assets/js/60.e6433a54.js"><link rel="prefetch" href="/assets/js/61.b79efbbf.js"><link rel="prefetch" href="/assets/js/62.e27ae36f.js"><link rel="prefetch" href="/assets/js/63.ad95ceab.js"><link rel="prefetch" href="/assets/js/64.ff8befe8.js"><link rel="prefetch" href="/assets/js/65.f58cbae4.js"><link rel="prefetch" href="/assets/js/66.8c33635f.js"><link rel="prefetch" href="/assets/js/67.a8fdff51.js"><link rel="prefetch" href="/assets/js/68.4b13cd06.js"><link rel="prefetch" href="/assets/js/69.29d146cf.js"><link rel="prefetch" href="/assets/js/7.515bd262.js"><link rel="prefetch" href="/assets/js/70.7f5e1fda.js"><link rel="prefetch" href="/assets/js/71.8e675612.js"><link rel="prefetch" href="/assets/js/72.33753a06.js"><link rel="prefetch" href="/assets/js/73.d05e25aa.js"><link rel="prefetch" href="/assets/js/74.41ed6772.js"><link rel="prefetch" href="/assets/js/75.80e2ebe4.js"><link rel="prefetch" href="/assets/js/76.2f37398d.js"><link rel="prefetch" href="/assets/js/77.4409aac2.js"><link rel="prefetch" href="/assets/js/78.550b8aa8.js"><link rel="prefetch" href="/assets/js/79.d48b4b59.js"><link rel="prefetch" href="/assets/js/8.0a7d4032.js"><link rel="prefetch" href="/assets/js/80.7f8970f3.js"><link rel="prefetch" href="/assets/js/81.00c12ad2.js"><link rel="prefetch" href="/assets/js/82.bb5997a8.js"><link rel="prefetch" href="/assets/js/83.d64fef38.js"><link rel="prefetch" href="/assets/js/84.2db6337a.js"><link rel="prefetch" href="/assets/js/85.79011026.js"><link rel="prefetch" href="/assets/js/86.5403a4f1.js"><link rel="prefetch" href="/assets/js/87.2efc3e4a.js"><link rel="prefetch" href="/assets/js/88.7e119468.js"><link rel="prefetch" href="/assets/js/89.d3d96466.js"><link rel="prefetch" href="/assets/js/9.a6153bab.js"><link rel="prefetch" href="/assets/js/90.83e98cef.js"><link rel="prefetch" href="/assets/js/91.d9fb8ad5.js"><link rel="prefetch" href="/assets/js/92.5b7c7dbe.js"><link rel="prefetch" href="/assets/js/93.5b3a5fee.js"><link rel="prefetch" href="/assets/js/94.5f85bd44.js"><link rel="prefetch" href="/assets/js/95.be2a5735.js"><link rel="prefetch" href="/assets/js/96.96c209f1.js"><link rel="prefetch" href="/assets/js/97.61c57cf8.js"><link rel="prefetch" href="/assets/js/98.d9b6c995.js"><link rel="prefetch" href="/assets/js/99.94526b0c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.02965d57.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="YellowAndGreen" class="logo"> <span class="site-name can-hide">YellowAndGreen</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><a href="/blog/" class="link-title">博客</a> <span class="title" style="display:none;">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/e81396/" class="nav-link">闲谈大学淘书之旅</a></li><li class="dropdown-item"><!----> <a href="/pages/f29a0c/" class="nav-link">考研有感</a></li></ul></div></div><div class="nav-item"><a href="/Book/" class="nav-link">读书</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">《JavaScript教程》</a></li><li class="dropdown-subitem"><a href="/note/js/" class="nav-link">《JavaScript高级程序设计》</a></li><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">《ES6 教程》</a></li><li class="dropdown-subitem"><a href="/note/vue/" class="nav-link">《Vue》</a></li><li class="dropdown-subitem"><a href="/note/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-subitem"><a href="/note/git/" class="nav-link">《Git》</a></li><li class="dropdown-subitem"><a href="/pages/51afd6/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/pages/4643cd/" class="nav-link">JS设计模式总结</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/YellowAndGreen/YellowAndGreen.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/pm503.png"> <div class="blogger-info"><h3>黄不盈</h3> <span>道冲而用之或不盈</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><a href="/blog/" class="link-title">博客</a> <span class="title" style="display:none;">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/e81396/" class="nav-link">闲谈大学淘书之旅</a></li><li class="dropdown-item"><!----> <a href="/pages/f29a0c/" class="nav-link">考研有感</a></li></ul></div></div><div class="nav-item"><a href="/Book/" class="nav-link">读书</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">《JavaScript教程》</a></li><li class="dropdown-subitem"><a href="/note/js/" class="nav-link">《JavaScript高级程序设计》</a></li><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">《ES6 教程》</a></li><li class="dropdown-subitem"><a href="/note/vue/" class="nav-link">《Vue》</a></li><li class="dropdown-subitem"><a href="/note/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-subitem"><a href="/note/git/" class="nav-link">《Git》</a></li><li class="dropdown-subitem"><a href="/pages/51afd6/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/pages/4643cd/" class="nav-link">JS设计模式总结</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/YellowAndGreen/YellowAndGreen.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>实用仓库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>技术文档</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>GitHub技巧</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>学习笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/note/javascript/" class="sidebar-link">《JavaScript教程》笔记</a></li><li><a href="/note/js/" class="sidebar-link">《JavaScript高级程序设计》笔记</a></li><li><a href="/note/es6/" class="sidebar-link">《ES6 教程》笔记</a></li><li><a href="/note/vue/" class="sidebar-link">《Vue》笔记</a></li><li><a href="/note/typescript-axios/" class="sidebar-link">《TypeScript 从零实现 axios》</a></li><li><a href="/note/git/" class="sidebar-link">《Git》学习笔记</a></li><li><a href="/pages/51afd6/" class="sidebar-link">TypeScript笔记</a></li><li><a href="/pages/4643cd/" class="sidebar-link">JS设计模式总结笔记</a></li><li><a href="/pages/7be643/" aria-current="page" class="active sidebar-link">Shell指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/7be643/#基础" class="sidebar-link">基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/7be643/#复合命令" class="sidebar-link">复合命令</a></li><li class="sidebar-sub-header level3"><a href="/pages/7be643/#常用命令" class="sidebar-link">常用命令</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#find" class="sidebar-link">find</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#xargs" class="sidebar-link">xargs</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/7be643/#权限" class="sidebar-link">权限</a></li><li class="sidebar-sub-header level2"><a href="/pages/7be643/#重定向" class="sidebar-link">重定向</a></li><li class="sidebar-sub-header level2"><a href="/pages/7be643/#进程" class="sidebar-link">进程</a></li><li class="sidebar-sub-header level2"><a href="/pages/7be643/#变量" class="sidebar-link">变量</a></li><li class="sidebar-sub-header level2"><a href="/pages/7be643/#shell-scripts" class="sidebar-link">Shell Scripts</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level4"><a href="/pages/7be643/#if-else" class="sidebar-link">if else</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#function" class="sidebar-link">function</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#while" class="sidebar-link">while</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/7be643/#文本处理" class="sidebar-link">文本处理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/7be643/#通配符" class="sidebar-link">通配符</a></li><li class="sidebar-sub-header level3"><a href="/pages/7be643/#cut" class="sidebar-link">cut</a></li><li class="sidebar-sub-header level3"><a href="/pages/7be643/#grep" class="sidebar-link">grep</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#基本用法" class="sidebar-link">基本用法</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#示例" class="sidebar-link">示例</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#正则表达式" class="sidebar-link">正则表达式</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#管道使用" class="sidebar-link">管道使用</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#注意事项" class="sidebar-link">注意事项</a></li><li class="sidebar-sub-header level3"><a href="/pages/7be643/#sed" class="sidebar-link">sed</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#常用指令" class="sidebar-link">常用指令</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#常用选项" class="sidebar-link">常用选项</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#替换指令-s" class="sidebar-link">替换指令（s）</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#打印指令-p" class="sidebar-link">打印指令（p）</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#删除指令-d" class="sidebar-link">删除指令（d）</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#插入和追加指令-i-和-a" class="sidebar-link">插入和追加指令（i 和 a）</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#模式匹配" class="sidebar-link">模式匹配</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#实例" class="sidebar-link">实例</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#多行模式" class="sidebar-link">多行模式</a></li><li class="sidebar-sub-header level3"><a href="/pages/7be643/#awk" class="sidebar-link">awk</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#基本语法" class="sidebar-link">基本语法</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#比较操作符" class="sidebar-link">比较操作符</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#脚本示例" class="sidebar-link">脚本示例</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#复杂脚本示例" class="sidebar-link">复杂脚本示例</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#模式匹配-2" class="sidebar-link">模式匹配</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#内置数组" class="sidebar-link">内置数组</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#流程控制" class="sidebar-link">流程控制</a></li><li class="sidebar-sub-header level4"><a href="/pages/7be643/#多文件处理" class="sidebar-link">多文件处理</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/technology/#技术" data-v-06225672>技术</a></li><li data-v-06225672><a href="/technology/#学习笔记" data-v-06225672>学习笔记</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/yellowandgreen" target="_blank" title="作者" class="beLink" data-v-06225672>yellowandgreen</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2024-11-23</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">Shell指令<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="shell指令"><a href="#shell指令" class="header-anchor">#</a> Shell指令</h1> <h2 id="基础"><a href="#基础" class="header-anchor">#</a> 基础</h2> <h3 id="复合命令"><a href="#复合命令" class="header-anchor">#</a> 复合命令</h3> <p>在Shell脚本中，复合命令是由多个简单命令组合而成的命令，它们可以是管道（pipe），列表（list），条件语句（conditional），循环语句（loops），函数（functions）等。以下是一些常见的Shell复合命令类型：</p> <ol><li><p><strong>管道（Pipe）</strong>:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>command1 <span class="token operator">|</span> command2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>管道允许将一个命令的输出作为另一个命令的输入。</p></li> <li><p><strong>列表（List）</strong>:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>command1<span class="token punctuation">;</span> command2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>列表允许你按顺序执行多个命令，每个命令在前一个命令完成后执行。</p></li></ol> <h3 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">ls</span> <span class="token parameter variable">-a</span> <span class="token parameter variable">-F</span>  <span class="token comment"># 显示所有文件，文件夹后面带/</span>
<span class="token function">cat</span> test.txt <span class="token parameter variable">-n</span>  <span class="token comment"># 输出文件内容并表明行号</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /bin/test/a  <span class="token comment"># 创建所有需要的目录</span>
<span class="token function">cp</span> <span class="token parameter variable">-r</span> /bin/a /bin/b  <span class="token comment"># 拷贝目录</span>
<span class="token function">mv</span> docs/ bin/ a.txt dst/  <span class="token comment"># 将多个目录和文件移动到dst目录中</span>
<span class="token function">ls</span> <span class="token parameter variable">-l</span> test.txt  <span class="token comment"># 显示详细信息以判断文件类型，权限等</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;aaa&quot;</span>     <span class="token comment"># 输出文本</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;aaa<span class="token entity" title="\n">\n</span>&quot;</span>  <span class="token comment"># 使符号起作用</span>

OUTPUT <span class="token operator">=</span> <span class="token string">&quot;&gt; out.file&quot;</span>
<span class="token builtin class-name">eval</span> <span class="token builtin class-name">echo</span> hello <span class="token variable">$OUTPUT</span>  <span class="token comment"># eval让Shell第二次重新处理命令行</span>

<span class="token function">expr</span> <span class="token number">3</span>+2   <span class="token comment"># 执行简单的整数算术运算</span>
<span class="token function">touch</span> a.txt  <span class="token comment">#  创建新文件</span>

<span class="token comment"># 命令别名</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">lm</span><span class="token operator">=</span><span class="token string">'ls -al | more'</span>
<span class="token builtin class-name">unalias</span> lm  <span class="token comment"># 取消别名</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>符号链：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 创建指向文件的符号链：</span>
<span class="token function">ln</span> <span class="token parameter variable">-s</span> target_file symlink_name
<span class="token comment"># 创建指向目录的符号链：</span>
<span class="token function">ln</span> <span class="token parameter variable">-s</span> target_directory symlink_directory
<span class="token comment"># 例如在同一个文件夹下存在test1和test2，需要将test1中的文件链接到test2中：</span>
<span class="token function">ln</span> <span class="token parameter variable">-s</span> <span class="token punctuation">..</span>/test1/a.txt ./test2/b.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="find"><a href="#find" class="header-anchor">#</a> find</h4> <p>Linux 中的 <code>find</code> 命令是一个非常强大的工具，用于在指定目录及其子目录下查找符合条件的文件或目录。以下是 <code>find</code> 命令的一些基本用法和选项：</p> <ol><li><p><strong>基本语法</strong>：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>find [path] [options] [actions]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><code>path</code>：指定搜索的起始目录，默认为当前目录（<code>.</code>）。</li> <li><code>expression</code>：定义搜索条件。</li></ul></li> <li><p><strong>常用选项</strong>：</p> <ul><li><code>-name</code>：按文件名查找文件。例如 <code>-name &quot;*.txt&quot;</code> 查找所有以 <code>.txt</code> 结尾的文件。</li> <li><code>-type</code>：查找文件类型，可以是 <code>f</code>（文件）、<code>d</code>（目录）等。</li> <li><code>-size</code>：按文件大小查找文件，例如 <code>-size +10M</code> 查找大于 10MB 的文件。</li> <li><code>-mtime</code>：按文件内容最后修改时间查找文件，单位是天。例如 <code>-mtime -7</code> 查找过去 7 天内修改过的文件。</li> <li><code>-atime</code>：按文件最后访问时间查找文件。</li> <li><code>-ctime</code>：按文件状态最后改变时间查找文件。</li> <li><code>-user</code>：按文件所有者查找文件。</li> <li><code>-group</code>：按文件所属组查找文件。</li> <li><code>-mindepth</code> 和 <code>--depth</code>：控制搜索的深度。</li> <li><code>-exec</code>：对找到的每个文件执行指定的命令。例如 <code>-exec rm {} \;</code> 删除找到的每个文件。</li> <li><code>-print</code>：打印找到的文件名（默认行为）。</li> <li><code>-maxdepth</code> 和 <code>-mindepth</code>：限制搜索的深度。</li></ul></li> <li><p><strong>组合使用</strong>：
<code>find</code> 命令可以结合逻辑运算符来使用，如 <code>-o</code>（或）和 <code>-not</code>（非）。</p> <ul><li><code>-o</code>：表示逻辑或，例如 <code>-name &quot;*.txt&quot; -o -name &quot;*.pdf&quot;</code> 查找所有 <code>.txt</code> 或 <code>.pdf</code> 文件。</li> <li><code>-not</code>：表示逻辑非，例如 <code>-not -name &quot;*.tmp&quot;</code> 查找所有非 <code>.tmp</code> 文件。</li></ul></li> <li><p><strong>使用正则表达式</strong>：
在某些版本的 <code>find</code> 中，可以使用 <code>-path</code> 选项来使用正则表达式匹配路径。</p></li> <li><p><strong>使用 <code>find</code> 命令的示例</strong>：</p> <ul><li>查找当前目录及其子目录下所有 <code>.txt</code> 文件：<div class="language- line-numbers-mode"><pre class="language-text"><code>find . -name &quot;*.txt&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>查找 <code>/var/log</code> 目录下 7 天内未修改的文件并删除：<div class="language- line-numbers-mode"><pre class="language-text"><code>find /var/log -type f -mtime +7 -exec rm {} \;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>查找 <code>/home/user</code> 目录下所有属于用户 <code>user</code> 的文件：<div class="language- line-numbers-mode"><pre class="language-text"><code>find /home/user -user user
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li></ol> <h4 id="xargs"><a href="#xargs" class="header-anchor">#</a> xargs</h4> <p><code>xargs</code>能够读取标准输入（stdin）数据，将其转换为命令行参数，并执行相应的命令。<code>xargs</code> 常用于与管道（pipe）一起使用，将一个命令的输出作为另一个命令的输入。</p> <p>以下是 <code>xargs</code> 的一些关键特性和选项：</p> <ol><li><p><strong>基本用法</strong>：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>command | xargs [options] [command]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这里，<code>command</code> 是生成输入数据的命令，<code>xargs</code> 读取这些数据，并将其作为参数传递给后面的 <code>command</code>。</p></li> <li><p><strong>常用选项</strong>：</p> <ul><li><code>-0</code> 或 <code>--null</code>：使用 null 字符作为输入项的分隔符，通常与 <code>find</code> 命令的 <code>-print0</code> 选项一起使用，适用于文件名包含空格或特殊字符的情况。</li> <li><code>-a</code>：从每个给定的文件中读取输入项，直到文件结束。</li> <li><code>-I {}</code>：指定替换字符串 <code>{}</code>，<code>xargs</code> 会用输入项替换 <code>{}</code> 并执行命令。例如：<div class="language- line-numbers-mode"><pre class="language-text"><code>echo -e &quot;one\ntwo&quot; | xargs -I {} echo &quot;Item: {}&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div>输出将是：<div class="language- line-numbers-mode"><pre class="language-text"><code>Item: one
Item: two
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><code>-n [number]</code> 或 <code>--max-args [number]</code>：指定每次调用命令时使用的最大参数数量，默认为每个命令一行。</li> <li><code>-P [number]</code> 或 <code>--max-procs [number]</code>：指定同时运行的最大进程数。</li> <li><code>-p</code>：在执行命令前提示用户确认。</li> <li><code>--max-chars [number]</code> 或 <code>-x</code>：指定每个命令行的最大字符数，超过这个数将自动换行。</li> <li><code>-r</code>：如果输入为空，则不执行命令。</li> <li><code>-t</code>：在执行命令之前打印命令和参数。</li></ul></li> <li><p><strong>使用示例</strong>：</p> <ul><li>使用 <code>find</code> 和 <code>xargs</code> 删除当前目录下所有 <code>.tmp</code> 文件：<div class="language- line-numbers-mode"><pre class="language-text"><code>find . -type f -name &quot;*.tmp&quot; -print0 | xargs -0 rm -f
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>将当前目录下所有 <code>.txt</code> 文件复制到 <code>/backup</code> 目录：<div class="language- line-numbers-mode"><pre class="language-text"><code>find . -type f -name &quot;*.txt&quot; | xargs -I {} cp {} /backup
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>并行执行 <code>tar</code> 压缩当前目录下所有 <code>.tar</code> 文件，同时运行的最大进程数为 4：<div class="language- line-numbers-mode"><pre class="language-text"><code>find . -type f -name &quot;*.tar&quot; | xargs -P 4 -I {} tar -czvf {}.tar.gz {}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p><strong>注意事项</strong>：</p> <ul><li>当使用 <code>xargs</code> 时，如果输入数据中包含特殊字符或空格，可能会引起问题。使用 <code>-0</code> 和 <code>-print0</code> 选项可以避免这类问题。</li> <li>使用 <code>-p</code> 选项可以增加交互性，每次执行前都会提示用户确认。</li> <li>使用 <code>-n</code> 选项可以控制每次调用命令时的参数数量，有助于防止命令行过长。</li></ul></li></ol> <h2 id="权限"><a href="#权限" class="header-anchor">#</a> 权限</h2> <p>以三个为一组，且均为『rwx』 的三个参数的组合。其中，[ r ]代表可读(read)、[ w ]代表可写(write)、[ x ]代表可执行(execute)。 要注意的是，这三个权限的位置不会改变，如果没有权限，就会出现减号[ - ]。</p> <blockquote><p>[!NOTE]</p> <p>目录必须给到r和x才能切换到目录中去。</p></blockquote> <ul><li><p>chgrp ：改变档案所属群组</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># chgrp [-R] dirname/filename ...</span>
选项与参数：
<span class="token parameter variable">-R</span> <span class="token builtin class-name">:</span> 进行递迴<span class="token punctuation">(</span>recursive<span class="token punctuation">)</span>的持续变更，亦即连同次目录下的所有档案、目录
     都更新成为这个群组之意。常常用在变更某一目录内所有的档案之情况。
范例：
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># chgrp users initial-setup-ks.cfg</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># ls -l</span>
-rw-r--r--. <span class="token number">1</span> root <span class="token function">users</span> <span class="token number">1864</span> May  <span class="token number">4</span> <span class="token number">18</span>:01 initial-setup-ks.cfg
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># chgrp testing initial-setup-ks.cfg</span>
chgrp: invalid group:  `testing' <span class="token operator">&lt;=</span><span class="token operator">=</span> 发生错误讯息啰～找不到这个群组名～
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p>chown ：改变档案拥有者</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># chown [-R] 帐号名称 档案或目录</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># chown [-R] 帐号名称:群组名称 档案或目录</span>
选项与参数：
<span class="token parameter variable">-R</span> <span class="token builtin class-name">:</span> 进行递迴<span class="token punctuation">(</span>recursive<span class="token punctuation">)</span>的持续变更，亦即连同次目录下的所有档案都变更

范例：将 initial-setup-ks.cfg 的拥有者改为bin这个帐号：
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># chown bin initial-setup-ks.cfg</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># ls -l</span>
-rw-r--r--. <span class="token number">1</span> bin  <span class="token function">users</span> <span class="token number">1864</span> May  <span class="token number">4</span> <span class="token number">18</span>:01 initial-setup-ks.cfg

范例：将 initial-setup-ks.cfg 的拥有者与群组改回为root：
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># chown root:root initial-setup-ks.cfg</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># ls -l</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">1864</span> May  <span class="token number">4</span> <span class="token number">18</span>:01 initial-setup-ks.cfg
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li> <li><p>chmod ：改变档案的权限, SUID, SGID, SBIT等等的特性</p> <ul><li><p>使用数字类型，r:4，w:2，x:1</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># ls -al .bashrc</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">176</span> Dec <span class="token number">29</span>  <span class="token number">2013</span> .bashrc
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># chmod 777 .bashrc</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># ls -al .bashrc</span>
-rwxrwxrwx. <span class="token number">1</span> root root <span class="token number">176</span> Dec <span class="token number">29</span>  <span class="token number">2013</span> .bashrc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>符号类型改变档案权限</p> <table><thead><tr><th>chmod</th> <th>u g o a</th> <th>+(加入) -(除去) =(设定)</th> <th>r w x</th> <th>档案或目录</th> <th></th></tr></thead> <tbody></tbody></table> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># chmod  u=rwx,go=rx  .bashrc</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># chmod  a+w  .bashrc</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li></ul> <h2 id="重定向"><a href="#重定向" class="header-anchor">#</a> 重定向</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 使用符号 2&gt;&amp;1 将标准错误（stderr）重定向到标准输出（stdout）。</span>
<span class="token builtin class-name">command</span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> output.txt
<span class="token builtin class-name">command</span> <span class="token operator">&gt;</span> output.txt <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="进程"><a href="#进程" class="header-anchor">#</a> 进程</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>long_running_process &amp;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这会将 <code>long_running_process</code> 放入后台执行，Shell会立即显示新的提示符。</p> <p>使用<code>ctrl + z</code>将前台程序悬挂，然后使用<code>bg %1</code>将其移入后台，实用<code>fg %1</code>将其移入前台。</p> <p>使用<code>jobs</code>显示悬挂的进程或者后台进程。使用<code>ps -f</code>显示当前终端进程，使用<code>ps -e</code>显示所有进程。</p> <p>使用<code>ps aux</code>显示所有进程的详细信息。</p> <p>使用<code>top</code>显示实时进程</p> <p>例子：</p> <p><code>ps aux | grep rosbag/record | grep -v grep | awk '{print $2}' | xargs kill -SIGINT</code></p> <ul><li><code>kill</code> 命令用于发送信号给进程，<code>-SIGINT</code> 选项指定发送 <code>SIGINT</code> 信号，这通常是Ctrl+C的信号，用于请求进程优雅地终止。</li> <li><code>pgrep python | xargs kill -2</code>：<code>pgrep</code>命令用于搜索当前运行的进程列表，并根据指定的条件列出匹配的进程的进程ID（PID），-2用于ctrl+c终止</li></ul> <h2 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 标准的变量引用</span>
<span class="token builtin class-name">echo</span> <span class="token environment constant">$HOME</span>

<span class="token comment"># 使用花括号，即使变量为空，也不会报错</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token environment constant">HOME</span>}</span>

<span class="token comment"># 使用花括号提供默认值</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token environment constant">HOME</span><span class="token operator">:-</span>&quot;<span class="token operator">/</span>default<span class="token operator">/</span>home<span class="token operator">/</span>directory&quot;}</span>

<span class="token comment"># 双引号内的特殊字符如 $ 等，可以保有原本的特性，如下所示：</span>
『var<span class="token operator">=</span><span class="token string">&quot;lang is <span class="token environment constant">$LANG</span>&quot;</span>』则『echo <span class="token variable">$var</span>』可得『lang is en_US』
<span class="token comment"># 单引号内的特殊字符则仅为一般字符 (纯文本)，如下所示：</span>
『var<span class="token operator">=</span><span class="token string">'lang is $LANG'</span>』则『echo <span class="token variable">$var</span>』可得『lang is <span class="token environment constant">$LANG</span>』

<span class="token comment"># 取消变量</span>
<span class="token builtin class-name">unset</span> var

<span class="token comment"># 累加变量</span>
<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">${<span class="token environment constant">PATH</span>}</span>:/home/dmtsai/bin

<span class="token comment"># 查看所有环境变量</span>
<span class="token function">env</span>
<span class="token comment"># 所有变量</span>
<span class="token builtin class-name">set</span>

<span class="token comment"># 显示当前进程PID，$变量表征</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$$</span>
<span class="token comment"># 上一个运行的命令所回传的值，?表示回传值</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$?</span>
<span class="token comment"># 表示所有传递给脚本或命令的参数</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$*</span>
<span class="token comment"># 表示传递给脚本或命令的参数个数</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$#</span>
<span class="token comment"># 将自定义变量变成环境变量</span>
<span class="token builtin class-name">export</span> 变量名称

<span class="token comment"># 双括号可直接使用变量，且执行算数运算</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">$((</span>a<span class="token operator">+</span>b<span class="token variable">))</span></span>  <span class="token comment"># 输出加和3</span>
<span class="token variable"><span class="token punctuation">((</span>a <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">&amp;&amp;</span> <span class="token number">10</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">))</span></span>
<span class="token builtin class-name">echo</span> a

<span class="token comment"># 定义类型</span>
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># declare [-aixr] variable</span>
选项与参数：
<span class="token parameter variable">-a</span>  ：将后面名为 variable 的变量定义成为数组 <span class="token punctuation">(</span>array<span class="token punctuation">)</span> 类型
<span class="token parameter variable">-i</span>  ：将后面名为 variable 的变量定义成为整数数字 <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 类型
<span class="token parameter variable">-x</span>  ：用法与 <span class="token builtin class-name">export</span> 一样，就是将后面的 variable 变成环境变量；
<span class="token parameter variable">-r</span>  ：将变量配置成为 <span class="token builtin class-name">readonly</span> 类型，该变量不可被更改内容，也不能 <span class="token builtin class-name">unset</span>

范例一：让变量 <span class="token function">sum</span> 进行 <span class="token number">100</span>+300+50 的加总结果
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># sum=100+300+50</span>
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># echo $sum</span>
<span class="token number">100</span>+300+50  <span class="token operator">&lt;=</span><span class="token operator">=</span>咦！怎么没有帮我计算加总？因为这是文字型态的变量属性啊！
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># declare -i sum=100+300+50</span>
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># echo $sum</span>
<span class="token number">450</span>
范例二：将 <span class="token function">sum</span> 变成环境变量
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># declare -x sum</span>
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># export | grep sum</span>
<span class="token builtin class-name">declare</span> <span class="token parameter variable">-ix</span> <span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token string">&quot;450&quot;</span>  <span class="token operator">&lt;=</span><span class="token operator">=</span>果然出现了！包括有 i 与 x 的宣告！

范例三：让 <span class="token function">sum</span> 变成只读属性，不可更动！
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># declare -r sum</span>
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># sum=tesgting</span>
-bash: sum: <span class="token builtin class-name">readonly</span> variable  <span class="token operator">&lt;=</span><span class="token operator">=</span>老天爷～不能改这个变量了！

范例四：让 <span class="token function">sum</span> 变成非环境变量的自定义变量吧！
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># declare +x sum  &lt;== 将 - 变成 + 可以进行『取消』动作</span>
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># declare -p sum  &lt;== -p 可以单独列出变量的类型</span>
<span class="token builtin class-name">declare</span> <span class="token parameter variable">-ir</span> <span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token string">&quot;450&quot;</span> <span class="token operator">&lt;=</span><span class="token operator">=</span> 看吧！只剩下 i, r 的类型，不具有 x 啰！
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br></div></div><h2 id="shell-scripts"><a href="#shell-scripts" class="header-anchor">#</a> Shell Scripts</h2> <blockquote><p>[!TIP]</p> <p>利用直接运行（sh xxx.sh）的方式来运行 script和利用 source 来运行结果不同。前者是在子程序中运行，因此子程序中的变量在父程序中不存在，而后者完全在父程序中运行。</p></blockquote> <h4 id="if-else"><a href="#if-else" class="header-anchor">#</a> if else</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token string">&quot;<span class="token variable">$algorithmType</span>&quot;</span> <span class="token operator">=~</span> <span class="token string">&quot;fusion&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
    <span class="token assign-left variable">type_pre</span><span class="token operator">=</span><span class="token string">'lidar'</span> <span class="token comment"># 使用正则判断</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$algorithmType</span>&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;prediction&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="function"><a href="#function" class="header-anchor">#</a> function</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function-name function">add_numbers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">$((</span> $<span class="token number">1</span> <span class="token operator">+</span> $<span class="token number">2</span> <span class="token variable">))</span></span>
<span class="token punctuation">}</span>

<span class="token comment"># 调用函数</span>
<span class="token assign-left variable">result</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>add_numbers <span class="token number">3</span> <span class="token number">5</span><span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Result is <span class="token variable">$result</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="while"><a href="#while" class="header-anchor">#</a> while</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token keyword">while</span> <span class="token punctuation">[</span> condition <span class="token punctuation">]</span>  <span class="token operator">&lt;=</span><span class="token operator">=</span>中括号内的状态就是判断式
<span class="token keyword">do</span>            <span class="token operator">&lt;=</span><span class="token operator">=</span>do 是回圈的开始！
	程序段落
<span class="token keyword">done</span>          <span class="token operator">&lt;=</span><span class="token operator">=</span>done 是回圈的结束


<span class="token keyword">until</span> <span class="token punctuation">[</span> condition <span class="token punctuation">]</span>
<span class="token keyword">do</span>
	程序段落
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>for</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> con1 con2 con3 <span class="token punctuation">..</span>.
<span class="token keyword">do</span>
	程序段
<span class="token keyword">done</span>

<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span>$nu<span class="token punctuation">;</span> i<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
	<span class="token assign-left variable">s</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>$s<span class="token operator">+</span>$i<span class="token variable">))</span></span>
<span class="token keyword">done</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;The result of '1+2+3+...+<span class="token variable">$nu</span>' is ==&gt; <span class="token variable">$s</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="文本处理"><a href="#文本处理" class="header-anchor">#</a> 文本处理</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">head</span> <span class="token parameter variable">-n</span>  <span class="token comment"># 输出前n行</span>
<span class="token function">tail</span> <span class="token parameter variable">-n</span>  <span class="token comment"># 输出后n行</span>
<span class="token function">ls</span> <span class="token parameter variable">-1ut</span>  <span class="token comment"># 输出当前文件夹下的所有东西，分行显示，同时按照时间修改排序。-u表示以最新为首，无则反之。-t表示按时间修改。</span>
<span class="token function">tail</span> <span class="token parameter variable">-f</span>  <span class="token comment"># 强制查看，能够看到被写入的文件比如log</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="通配符"><a href="#通配符" class="header-anchor">#</a> 通配符</h3> <table><thead><tr><th>符号</th> <th>意义</th></tr></thead> <tbody><tr><td>*</td> <td>代表『 0 个到无穷多个』任意字符</td></tr> <tr><td>?</td> <td>代表『一定有一个』任意字符</td></tr> <tr><td>[ ]</td> <td>同样代表『一定有一个在括号内』的字符(非任意字符)。例如 [abcd] 代表『一定有一个字符， 可能是 a, b, c, d 这四个任何一个』</td></tr> <tr><td>[ - ]</td> <td>若有减号在中括号内时，代表『在编码顺序内的所有字符』。例如 [0-9] 代表 0 到 9 之间的所有数字，因为数字的语系编码是连续的！</td></tr> <tr><td>[^ ]</td> <td>若中括号内的第一个字符为指数符号 (^) ，那表示『反向选择』，例如 [^abc] 代表 一定有一个字符，只要是非 a, b, c 的其他字符就接受的意思。</td></tr></tbody></table> <p>接下来让我们利用通配符来玩些东西吧！首先，利用通配符配合 ls 找檔名看看：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># LANG=C              &lt;==由于与编码有关，先配置语系一下</span>

范例一：找出 /etc/ 底下以 <span class="token function">cron</span> 为开头的档名
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># ll -d /etc/cron*    &lt;==加上 -d 是为了仅显示目录而已</span>

范例二：找出 /etc/ 底下文件名『刚好是五个字母』的文件名
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># ll -d /etc/?????    &lt;==由于 ? 一定有一个，所以五个 ? 就对了</span>

范例三：找出 /etc/ 底下文件名含有数字的文件名
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># ll -d /etc/*[0-9]*  &lt;==记得中括号左右两边均需 *</span>

范例四：找出 /etc/ 底下，档名开头非为小写字母的文件名：
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># ll -d /etc/[^a-z]*  &lt;==注意中括号左边没有 *</span>

范例五：将范例四找到的文件复制到 /tmp 中
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># cp -a /etc/[^a-z]* /tmp</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>除了通配符之外，bash 环境中的特殊符号有哪些呢？底下我们先汇整一下：</p> <table><thead><tr><th>符号</th> <th>内容</th></tr></thead> <tbody><tr><td>#</td> <td>批注符号：这个最常被使用在 script 当中，视为说明！在后的数据均不运行</td></tr> <tr><td>\</td> <td>跳脱符号：将『特殊字符或通配符』还原成一般字符</td></tr> <tr><td>|</td> <td>管线 (pipe)：分隔两个管线命令的界定(后两节介绍)；</td></tr> <tr><td>;</td> <td>连续命令下达分隔符：连续性命令的界定 (注意！与管线命令并不相同)</td></tr> <tr><td>~</td> <td>用户的家目录</td></tr> <tr><td>$</td> <td>取用变量前导符：亦即是变量之前需要加的变量取代值</td></tr> <tr><td>&amp;</td> <td>工作控制 (job control)：将命令变成背景下工作</td></tr> <tr><td>!</td> <td>逻辑运算意义上的『非』 not 的意思！</td></tr> <tr><td>/</td> <td>目录符号：路径分隔的符号</td></tr> <tr><td>&gt;, &gt;&gt;</td> <td>数据流重导向：输出导向，分别是『取代』与『累加』</td></tr> <tr><td>&lt;, &lt;&lt;</td> <td>数据流重导向：输入导向 (这两个留待下节介绍)</td></tr> <tr><td>' '</td> <td>单引号，不具有变量置换的功能</td></tr> <tr><td>&quot; &quot;</td> <td>具有变量置换的功能！</td></tr> <tr><td><code></code></td> <td>两个『 ` 』中间为可以先运行的命令，亦可使用 $( )</td></tr> <tr><td>( )</td> <td>在中间为子 shell 的起始与结束</td></tr> <tr><td>{ }</td> <td>在中间为命令区块的组合！</td></tr></tbody></table> <h3 id="cut"><a href="#cut" class="header-anchor">#</a> cut</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>dmtsai@study ~<span class="token punctuation">]</span>$ <span class="token function">cut</span> -d<span class="token string">'分隔字元'</span> <span class="token parameter variable">-f</span> fields <span class="token operator">&lt;=</span><span class="token operator">=</span>用于有特定分隔字元
<span class="token punctuation">[</span>dmtsai@study ~<span class="token punctuation">]</span>$ <span class="token function">cut</span> <span class="token parameter variable">-c</span> 字元区间            <span class="token operator">&lt;=</span><span class="token operator">=</span>用于排列整齐的讯息
选项与参数：
<span class="token parameter variable">-d</span>  ：后面接分隔字元。与 <span class="token parameter variable">-f</span> 一起使用；
<span class="token parameter variable">-f</span>  ：依据 <span class="token parameter variable">-d</span> 的分隔字元将一段讯息分割成为数段，用 <span class="token parameter variable">-f</span> 取出第几段的意思；
<span class="token parameter variable">-c</span>  ：以字元 <span class="token punctuation">(</span>characters<span class="token punctuation">)</span> 的单位取出固定字元区间；

范例一：将 <span class="token environment constant">PATH</span> 变数取出，我要找出第五个路径。
<span class="token punctuation">[</span>dmtsai@study ~<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token environment constant">PATH</span>}</span>
/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/home/dmtsai/.local/bin:/home/dmtsai/bin
<span class="token comment">#      1      |    2   |       3       |    4    |           5           |      6         |</span>

<span class="token punctuation">[</span>dmtsai@study ~<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token environment constant">PATH</span>}</span> <span class="token operator">|</span> <span class="token function">cut</span> <span class="token parameter variable">-d</span> <span class="token string">':'</span> <span class="token parameter variable">-f</span> <span class="token number">5</span>
<span class="token comment"># 如同上面的数字显示，我们是以『 : 』作为分隔，因此会出现 /home/dmtsai/.local/bin</span>
<span class="token comment"># 那么如果想要列出第 3 与第 5 呢？，就是这样：</span>
<span class="token punctuation">[</span>dmtsai@study ~<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token environment constant">PATH</span>}</span> <span class="token operator">|</span> <span class="token function">cut</span> <span class="token parameter variable">-d</span> <span class="token string">':'</span> <span class="token parameter variable">-f</span> <span class="token number">3,5</span>

范例二：将 <span class="token builtin class-name">export</span> 输出的讯息，取得第 <span class="token number">12</span> 字元以后的所有字串
<span class="token punctuation">[</span>dmtsai@study ~<span class="token punctuation">]</span>$ <span class="token builtin class-name">export</span>
<span class="token builtin class-name">declare</span> <span class="token parameter variable">-x</span> <span class="token assign-left variable"><span class="token environment constant">HISTCONTROL</span></span><span class="token operator">=</span><span class="token string">&quot;ignoredups&quot;</span>
<span class="token builtin class-name">declare</span> <span class="token parameter variable">-x</span> <span class="token assign-left variable"><span class="token environment constant">HISTSIZE</span></span><span class="token operator">=</span><span class="token string">&quot;1000&quot;</span>
<span class="token builtin class-name">declare</span> <span class="token parameter variable">-x</span> <span class="token assign-left variable"><span class="token environment constant">HOME</span></span><span class="token operator">=</span><span class="token string">&quot;/home/dmtsai&quot;</span>
<span class="token builtin class-name">declare</span> <span class="token parameter variable">-x</span> <span class="token assign-left variable"><span class="token environment constant">HOSTNAME</span></span><span class="token operator">=</span><span class="token string">&quot;study.centos.vbird&quot;</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span>.<span class="token punctuation">(</span>其他省略<span class="token punctuation">)</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.
<span class="token comment"># 注意看，每个资料都是排列整齐的输出！如果我们不想要『 declare -x 』时，就得这么做：</span>

<span class="token punctuation">[</span>dmtsai@study ~<span class="token punctuation">]</span>$ <span class="token builtin class-name">export</span> <span class="token operator">|</span> <span class="token function">cut</span> <span class="token parameter variable">-c</span> <span class="token number">12</span>-
<span class="token assign-left variable"><span class="token environment constant">HISTCONTROL</span></span><span class="token operator">=</span><span class="token string">&quot;ignoredups&quot;</span>
<span class="token assign-left variable"><span class="token environment constant">HISTSIZE</span></span><span class="token operator">=</span><span class="token string">&quot;1000&quot;</span>
<span class="token assign-left variable"><span class="token environment constant">HOME</span></span><span class="token operator">=</span><span class="token string">&quot;/home/dmtsai&quot;</span>
<span class="token assign-left variable"><span class="token environment constant">HOSTNAME</span></span><span class="token operator">=</span><span class="token string">&quot;study.centos.vbird&quot;</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span>.<span class="token punctuation">(</span>其他省略<span class="token punctuation">)</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.
<span class="token comment"># 知道怎么回事了吧？用 -c 可以处理比较具有格式的输出资料！</span>
<span class="token comment"># 我们还可以指定某个范围的值，例如第 12-20 的字元，就是 cut -c 12-20 等等！</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="grep"><a href="#grep" class="header-anchor">#</a> grep</h3> <p><code>grep</code> 是一个强大的文本搜索工具，用于在文件中搜索匹配特定模式的行。以下是 <code>grep</code> 命令的一些关键特性和用法：</p> <h4 id="基本用法"><a href="#基本用法" class="header-anchor">#</a> 基本用法</h4> <ul><li><code>grep pattern [file...]</code>：在指定的文件中搜索包含 <code>pattern</code> 的行。</li></ul> <p>选项：</p> <ul><li><code>-i</code>：忽略大小写。搜索时不区分大写和小写字母。</li> <li><code>-v</code>：反向搜索。只打印不匹配 <code>pattern</code> 的行。</li> <li><code>-r</code> 或 <code>--recursive</code>：递归地在所有文件和目录中搜索。</li> <li><code>-l</code>：只打印包含匹配行的文件名。</li> <li><code>-n</code>：显示匹配行的行号。</li> <li><code>-c</code>：仅显示匹配行的数量，不显示行本身。</li> <li><code>--color</code>：将匹配的文本高亮显示（通常是彩色的）。</li> <li><code>-e</code>：使用多个搜索模式。</li> <li><code>-w</code> 或 <code>--word-regexp</code>：仅匹配整个单词。</li> <li><code>--line-buffered</code>：使用行缓冲，确保输出即时显示，即使输出被管道传输。</li></ul> <h4 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h4> <ul><li>搜索包含 &quot;error&quot; 的行：<div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">grep</span> <span class="token string">&quot;error&quot;</span> logfile.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>忽略大小写搜索 &quot;error&quot;：<div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">grep</span> <span class="token parameter variable">-i</span> <span class="token string">&quot;error&quot;</span> logfile.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>打印不包含 &quot;error&quot; 的行：<div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">grep</span> <span class="token parameter variable">-v</span> <span class="token string">&quot;error&quot;</span> logfile.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>递归搜索目录中的所有文件：<div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">grep</span> <span class="token parameter variable">-r</span> <span class="token string">&quot;pattern&quot;</span> /path/to/directory
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>只打印包含 &quot;error&quot; 的文件名：<div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">grep</span> <span class="token parameter variable">-l</span> <span class="token string">&quot;error&quot;</span> /path/to/directory
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>显示匹配行的行号：<div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">grep</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;error&quot;</span> logfile.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>显示匹配行的数量：<div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">grep</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;error&quot;</span> logfile.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>高亮显示匹配的文本：<div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">grep</span> <span class="token parameter variable">--color</span> <span class="token string">&quot;error&quot;</span> logfile.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>使用多个搜索模式：<div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">grep</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;error&quot;</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;warning&quot;</span> logfile.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>仅匹配整个单词 &quot;error&quot;：<div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">grep</span> <span class="token parameter variable">-w</span> <span class="token string">&quot;error&quot;</span> logfile.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h4 id="正则表达式"><a href="#正则表达式" class="header-anchor">#</a> 正则表达式</h4> <p><code>grep</code> 支持基本的正则表达式，允许进行更复杂的搜索模式匹配。例如：</p> <ul><li>搜索以 &quot;log&quot; 开头的行：<div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">grep</span> <span class="token string">&quot;^log&quot;</span> logfile.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>搜索包含数字的行：<div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">grep</span> <span class="token string">&quot;[0-9]&quot;</span> logfile.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h4 id="管道使用"><a href="#管道使用" class="header-anchor">#</a> 管道使用</h4> <p><code>grep</code> 经常与其他命令结合使用，通过管道传递数据。例如，使用 <code>cat</code> 查看文件并搜索包含特定文本的行：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">cat</span> largefile.txt <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;pattern&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="注意事项"><a href="#注意事项" class="header-anchor">#</a> 注意事项</h4> <ul><li>默认情况下，<code>grep</code> 区分大小写，除非你使用 <code>-i</code> 选项。</li> <li>使用复杂的正则表达式时，可能需要根据Shell的不同使用引号或转义字符。</li> <li>在某些系统中，<code>grep</code> 的默认行为可能因版本或配置而异，例如，是否默认启用颜色输出。</li></ul> <h3 id="sed"><a href="#sed" class="header-anchor">#</a> sed</h3> <p><code>sed</code>（Stream Editor）是一个功能强大的Unix-like命令行工具，用于对文本数据进行过滤和替换。以下是 <code>sed</code> 的一些基本用法和概念：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 基础构造，script为具体模型和动作，如/pattern/action，表示在pattern下搜索到时的动作。files表示一个或多个文件。</span>
<span class="token function">sed</span> <span class="token string">'script'</span> files
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>sed</code> 的基本语法如下：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sed</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> <span class="token string">'指令'</span> 文件
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>其中，<code>[选项]</code> 是可选的，<code>[指令]</code> 是必需的，<code>文件</code> 是要处理的文本文件。</p> <h4 id="常用指令"><a href="#常用指令" class="header-anchor">#</a> 常用指令</h4> <ul><li><code>s</code>：替换指令，用于替换文本。</li> <li><code>d</code>：删除指令，用于删除匹配的行。</li> <li><code>p</code>：打印匹配成功的行</li></ul> <h4 id="常用选项"><a href="#常用选项" class="header-anchor">#</a> 常用选项</h4> <ul><li><code>-n</code>：仅打印经过 <code>sed</code> 处理的行。</li> <li><code>-e</code>：允许在命令行上执行多个 <code>sed</code> 命令，例如：<code>sed -e 'script1' -e 'script2'</code>.</li> <li><code>-i</code>：直接修改文件内容，而不是输出到标准输出，例如：<code>sed -i 's/old/new/g' filename</code>。</li></ul> <h4 id="替换指令-s"><a href="#替换指令-s" class="header-anchor">#</a> 替换指令（s）</h4> <p>替换指令的基本格式如下：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>s/old/new/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这将把所有的 &quot;old&quot; 替换为 &quot;new&quot;。使用 <code>g</code> 标志可以实现全局替换：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>s/old/new/g
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>[!IMPORTANT]</p> <p>在<code>s</code>命令中可以使用<code>&amp;</code>在new中重用old中的匹配结果：<code>sed 's/ab/$ab/g' test.txt</code></p></blockquote> <h4 id="打印指令-p"><a href="#打印指令-p" class="header-anchor">#</a> 打印指令（p）</h4> <p>会打印出所有的行和匹配的结果，使用-n只输出匹配结果</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>/pattern/p
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="删除指令-d"><a href="#删除指令-d" class="header-anchor">#</a> 删除指令（d）</h4> <p>删除指令可以删除匹配特定模式的行：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>/pattern/d
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="插入和追加指令-i-和-a"><a href="#插入和追加指令-i-和-a" class="header-anchor">#</a> 插入和追加指令（i 和 a）</h4> <p>插入和追加指令可以在指定模式匹配的行之前或之后添加文本：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>i<span class="token punctuation">\</span>
这是插入的文本
a<span class="token punctuation">\</span>
这是追加的文本
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>注意：在 <code>i</code> 和 <code>a</code> 指令后面需要使用 <code>\</code> 来表示多行文本。</p> <h4 id="模式匹配"><a href="#模式匹配" class="header-anchor">#</a> 模式匹配</h4> <p><code>sed</code> 支持基本的正则表达式进行模式匹配。例如：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>s/<span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span>+/数字/g
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这将把所有的数字替换为 &quot;数字&quot;。</p> <h4 id="实例"><a href="#实例" class="header-anchor">#</a> 实例</h4> <ul><li>将文件中的 &quot;old&quot; 替换为 &quot;new&quot; 并输出结果：<div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sed</span> <span class="token string">'s/old/new/g'</span> filename
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>直接在文件中替换文本（原地编辑）：<div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">'s/old/new/g'</span> filename
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>删除包含 &quot;error&quot; 的所有行：<div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sed</span> <span class="token string">'/error/d'</span> filename
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>在每行的末尾追加文本 &quot; - append&quot;：<div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sed</span> <span class="token string">'s/$/ - append/'</span> filename
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>在包含 &quot;pattern&quot; 的行后追加文本：<div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sed</span> <span class="token string">'/pattern/a\
这是追加的文本'</span> filename
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul> <h4 id="多行模式"><a href="#多行模式" class="header-anchor">#</a> 多行模式</h4> <p><code>sed</code> 可以处理多行模式，使用 <code>\</code> 来分隔多行：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sed</span> <span class="token string">'/start_pattern/{
  /end_pattern/!d
}'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这将删除从 &quot;start_pattern&quot; 到 &quot;end_pattern&quot; 之间的所有行。</p> <h3 id="awk"><a href="#awk" class="header-anchor">#</a> awk</h3> <p><code>awk</code> 是一个强大的文本处理工具，它设计用于处理结构化数据，特别是表格化数据。<code>awk</code> 的名称来源于它的创始人 Alfred V. Aho、Peter J. Weinberger 和 Brian W. Kernighan 的姓氏首字母。</p> <h4 id="基本语法"><a href="#基本语法" class="header-anchor">#</a> 基本语法</h4> <p><code>awk</code> 的基本语法如下：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">awk</span> <span class="token string">'/pattern/{action}'</span> files
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这里，<code>条件</code> 是可选的，如果省略则对所有行执行 <code>动作</code>。</p> <p><strong>变量</strong></p> <ul><li><code>$0</code>: 整行内容。</li> <li><code>$1</code>, <code>$2</code>, ...: 当前行的第1个，第2个...字段（默认字段分隔符为空白字符）。例如：<code>awk '{print $1,$3;}' fruit.txt</code>，其中的逗号会打印成空格。</li> <li><code>NF</code>: 当前行的字段总数。</li> <li><code>NR</code>: 已处理的记录数（行号）。</li></ul> <p><strong>常用内置函数：</strong></p> <ul><li><code>print</code>及<code>printf</code>: 打印文本。</li> <li><code>sprintf</code>: 格式化字符串。</li> <li><code>split</code>: 将字符串分割成数组。</li> <li><code>length</code>: 返回字符串的长度。</li></ul> <p><strong>常用选项：</strong></p> <ul><li><code>-F</code>: 设置输入字段分隔符。</li> <li><code>-v</code>: 设置变量的值。</li></ul> <h4 id="比较操作符"><a href="#比较操作符" class="header-anchor">#</a> 比较操作符</h4> <p>以下是一些使用 <code>awk</code> 比较操作符的示例：</p> <ul><li><p>检查字段是否等于特定值：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>awk '$1 == &quot;expected_value&quot; { print &quot;Match found&quot; }' data.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>检查数值字段是否在某个范围内：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>awk '$1 &gt;= 10 &amp;&amp; $1 &lt;= 20 { print &quot;Value is within range&quot; }' data.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>使用正则表达式检查字段是否匹配模式：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>awk '$1 ~ /^[0-9]+$/ { print &quot;Field contains only digits&quot; }' data.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>检查字段是否不匹配模式：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>awk '$1 !~ /^[a-z]+$/ { print &quot;Field contains non-lowercase letters&quot; }' data.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <ul><li><p>使用next跳过后续检查项：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>awk '
$1 == &quot;expected_value&quot; { print &quot;Match 1 found&quot;;next; }
$2 == &quot;expected_value&quot; { print &quot;Match 2 found&quot; }
' data.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <h4 id="脚本示例"><a href="#脚本示例" class="header-anchor">#</a> 脚本示例</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">awk</span> -F, <span class="token string">'{
  if ($1 == &quot;条件&quot;) print $2
}'</span> filename.csv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这个脚本将处理 <code>filename.csv</code> 文件，该文件的字段由逗号分隔。如果第一字段匹配 &quot;条件&quot;，则打印第二字段。</p> <h4 id="复杂脚本示例"><a href="#复杂脚本示例" class="header-anchor">#</a> 复杂脚本示例</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">awk</span> <span class="token string">'{ sum += $3 }
  END {
    if (NR &gt; 0) print &quot;Average:&quot;, sum / NR
  }'</span> filename
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这个脚本将计算文件中第三字段的平均值，并在处理完所有行后打印出来。</p> <h4 id="模式匹配-2"><a href="#模式匹配-2" class="header-anchor">#</a> 模式匹配</h4> <ul><li>使用模式匹配特定行：<div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">awk</span> <span class="token string">'/pattern/ {print $0}'</span> filename
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>使用多个模式：<div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">awk</span> <span class="token string">'模式1 {动作1} 模式2 {动作2}'</span> filename
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h4 id="内置数组"><a href="#内置数组" class="header-anchor">#</a> 内置数组</h4> <p><code>awk</code> 允许你使用内置数组来存储和操作数据：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">awk</span> <span class="token string">'{ arr[$1] += $2 } END { for (key in arr) print key, arr[key] }'</span> filename
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这个脚本将创建一个数组 <code>arr</code>，其中键是第一字段，值是第二字段的累加和。</p> <h4 id="流程控制"><a href="#流程控制" class="header-anchor">#</a> 流程控制</h4> <p><code>awk</code> 支持 <code>if-else</code> 和 <code>while</code> 等流程控制语句：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">awk</span> <span class="token string">'{ if ($1 &gt; 0) print &quot;Positive&quot;; else print &quot;Non-positive&quot; }'</span> filename
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="多文件处理"><a href="#多文件处理" class="header-anchor">#</a> 多文件处理</h4> <p><code>awk</code> 可以同时处理多个文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">awk</span> <span class="token string">'{ ... }'</span> file1 file2 file3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>awk</code> 的强大之处在于其灵活性和对复杂数据处理的支持。它可以读取、处理和生成结构化文本数据，是Unix-like系统中不可或缺的工具之一。</p></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/YellowAndGreen/YellowAndGreen.github.io/edit/master/docs/03.技术/03.学习笔记/51.Shell指令.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/10/13, 16:24:43</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/4643cd/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">JS设计模式总结笔记</div></a> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/4643cd/" class="prev">JS设计模式总结笔记</a></span> <!----></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/cc6d47/"><div>
            2024游戏总结
            <!----></div></a> <span class="date">11-23</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/0c3e0e/"><div>
            2023游戏总结
            <!----></div></a> <span class="date">11-23</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/4779e2/"><div>
            随记1
            <!----></div></a> <span class="date">11-23</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:602344037@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/yellowandgreen" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2023-2024
    <span>黄不盈 | <a href="https://github.com/yellowandgreen" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.2e8fe52d.js" defer></script><script src="/assets/js/2.8b0d4e2b.js" defer></script><script src="/assets/js/53.555dc999.js" defer></script>
  </body>
</html>
